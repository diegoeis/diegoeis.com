<!DOCTYPE html>
<html lang=" pt-br " prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">

<head>

  
  <link rel="stylesheet" href="https://diegoeis.com/all.min.a6134fb405769a35be419b71ad80cf589d62013c7763bbe8028f9f2bc107180e.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700,900" rel="stylesheet">

  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5RQBQLQ');</script>
  

  
  <title> - </title>
  <meta property="og:title" content=" - ">
  <meta property="og:type" content="article">
  <meta name="description" content="">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <meta name="description" content="">

  <meta name="author" content="">
  <meta name="description" content="">
  
  <meta property="og:title" content="">
  <meta property="og:description" content="" name="description">
  <meta property="og:image" content="images/missing-img.png">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@diegoeis">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="images/missing-img.png">

</head>

<body>
  
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5RQBQLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  


<header id="eis-header">
  <a href="/" class="eis-logo">diegoeis.com</a>
</header>


  <article class="eis-article">
    <header>
      <h1>Anotações Segurança em Aplicações Web</h1>
      <span class="eis-date">May 20, 2014</span>
    </header>

    <div class="eis-text">
      

<p>Minhas anotações sobre a palestra do Nando Vieira no 16ELW.</p>

<ul>
<li>seu site está seguro? Você se pergunta isso quando coloca seu produto no ar?</li>
<li>75% dos ataques estão na camada da aplicação.</li>
<li>brechas de segurança acabam com sua credibilidade.</li>
<li>OWASP é uma fundação voltada para distribuir informações sobre segurança em aplicações web. <a href="http://owasp.org/">http://owasp.org/</a></li>
<li>o raios teve algo em torno de 8 ou 9 relesses de segurança em 2013. Parece muito mas não é.</li>
<li>falha de segurança vai ter em qualquer tipo de linguagem, não importa qual.</li>
<li>outras brechas são feitas pelos próprios devs por conta de experiência, pressa, deadline apertado, falta de atenção etc etc.</li>
</ul>

<h2 id="configurações">configurações</h2>

<ul>
<li>nunca armazene configurações no seu repositório</li>
<li>use variáveis de ambientes em vez de arquivos de configuração ou copie o arquivo de configuração na hora do deploy</li>
<li>para quem usa ruby use dotenv. para PHP use phpdotenv</li>
<li>nunca salve arquivos .env no repositório.</li>
</ul>

<h2 id="session-hijacking">Session Hijacking</h2>

<ul>
<li>o protocolo http é stateless</li>
<li>uso de cookies para fazer a identificação do usuário</li>
<li>um atacante pode roubar o cookie de um usuário</li>
<li>tente forçar o uso de ssl em tudo que exige autenticação.</li>
<li>expire a sessão em caso de inatividade. Nesse caso seja criterioso, porque você pode afetar o conforto do usuário fazendo-o logar novamente</li>
<li>marque os cookies com a opção http only na hora que você definir o cookie</li>
</ul>

<h2 id="session-ficariam">Session ficariam</h2>

<ul>
<li>um atacante se autêntica como outro usuário pra sempre. Isso porque não temos um mecanismo de expirar o login depois de um tempo determinado.</li>
<li>toda vez que o usuário se autentica, você não zera a sessão dele, iniciando uma nova sessão</li>
<li>no rails existe um método chamado reset_session, que vai zerar cookies e etc do usuário</li>
<li>use outro session storage que armazene sessões ativas</li>
<li>o github colocou um caixinha de sessions mostrando as informações de usuários ligados na sua conta</li>
</ul>

<h2 id="passwords">passwords</h2>

<ul>
<li>nunca armazene senhas em texto puro no banco. Claro!</li>
<li>hashing é um pouco melhor mas não ajuda muito. Se você usa sha1, ele gera uma hash de 40 caracteres, que procurando no Google, você consegue descobre a senha</li>
<li>fazer salting é um pouco melhor</li>
<li>as senhas baseadas em hash foram feitas para serem rápidos</li>
<li>o brute force com sha1 é muito rápido e eficiente</li>
<li>use algoritmo blowfish para criptografar senhas, isso dificulta o brute force porque a decodificarão dessa hash é muito lenta</li>
</ul>

<h2 id="redirecionamentos">redirecionamentos</h2>

<ul>
<li>processe a url antes de fazer redirecionamentos</li>
<li>o referrer pode conter informações confidenciais</li>
<li>faça o redirect a partir de uma página específica</li>
<li>crie uma página intermediária, como o youtube faz, avisando que o usuário está saindo do seu site</li>
</ul>

<h2 id="sql-injection">SQL Injection</h2>

<ul>
<li>nesse caso um ataque injeta parâmetros via query.</li>
<li>nunca interpole variáveis em query strings.</li>
<li>use prepares statements.</li>
</ul>

<h2 id="cross-scripting-xss">Cross-scripting (XSS)</h2>

<ul>
<li>não confie em dados enviados pelos usuários. O usuário pode ser qualquer um.</li>
<li>Valide as informações antes de aceitar qualquer dado de usuário.</li>
<li>se toda informação enviada pelo é insegura, significa que toda vez que você for mostrar essas informações, você precisa validar antes.</li>
<li>escape caracteres como &gt; e &amp;</li>
<li>tome cuidado no JavaScript também. Não atribua html ao definir o conteúdo fornecido pelo usuário.</li>
<li>no Rails use a biblioteca Sanitize (loofah)</li>
<li>se você precisa uma estrutura html, crie uma variável temporária.</li>
</ul>

<h2 id="software-update">software Update</h2>

<ul>
<li>sempre atualize seus software. Atualize seu PHP, seu ruby, rails e qualquer outra linguagem</li>
<li>ferramenta metasploit</li>
<li>Você não precisa de um super usuário pra fazer deploy</li>
<li>use seu servidor usando ssh</li>
<li>libere apenas as portas necessárias para rodar seu projeto</li>
<li>segurança deve ser uma preocupação constante</li>
</ul>

    </div>
  </article>

